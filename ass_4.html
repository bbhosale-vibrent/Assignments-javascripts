<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment-4</title>
</head>

<body>
    <form id="form" onsubmit="submitForm()" method="post">
        Name : <input type="text" id="name" name="name" required><br><br>
        Contact No : <input type="tel" id="phone" pattern="[0-9]{10}"  required oninvalid="setCustomValidity('Please enter 10 digit mobile number')"><br><br>
        Email ID : <input type="email" id="email" name="email" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" required><br><br>
        Pincode : <input type="text" id="pincode" name="pincode" pattern="[0-9]{6}" required min="6" max="6" oninvalid="setCustomValidity('Please enter 6 digit pincode')"><br><br>
        Address : <textarea id="address" name="address" maxlength="250" required></textarea><br><br>

        State : <select id="state" name="state" onchange="updateCities(this.value)" required>
            <option value="" disabled selected>Select State</option>
            <option value="AndhraPradesh">AndhraPradesh</option>
            <option value="Assam">Assam</option>
            <option value="Gujarat">Gujarat</option>
            <option value="Haryana">Haryana</option>
            <option value="Kerala">Kerala</option>
            <option value="Maharashtra">Maharashtra</option>
            <option value="Punjab">Punjab</option>
            <option value="None">None</option>
        </select><br><br>

        City : <select id="city" name="city" required>
            <option value="" disabled selected>Select City</option>
            <option value="None">None</option> 
        </select><br><br>

        <button type="submit">Submit</button>
        <br><br><br>
    </form>

    <div id="output"></div>

    <script>
        let cityData ={
            AndhraPradesh : ['adilabad' , 'adoni' , 'Visakhapatnam'],
            Assam : ['abhayapuri' , 'Guwahati' , 'Nagaon'],
            Gujarat : ['ahmedabad' , 'adalaj' , 'Surat'],
            Haryana : ['Guruhram' , 'Panipat' , 'Bhiwani'],
            Kerala : ['Thiruvananthapuram' , 'Kochi' , 'Malappuram'],
            Maharashtra : ['Pune' , 'Mumbai' , 'Nagpur'],
            Punjab : ['Amritsar' , 'Patiala' , 'Firozpur'],
            None : ['none']
        }

        function updateCities(state)
        {
            let cityDropDown = document.getElementById('city');
            cityDropDown.innerHTML = '<option value="" disabled selected>Select City</option>';

            let cities = cityData[state] || [];
            cities.forEach(function(city){
                let option = document.createElement('option');
                option.value = city;
                option.text = city;
                cityDropDown.add(option);
            });

        }

        function submitForm()
        {
            let name = document.getElementById('name').value;
            let phone = document.getElementById('phone').value;
            let email = document.getElementById('email').value;
            let pincode = document.getElementById('pincode').value;
            let address = document.getElementById('address').value;
            let state = document.getElementById('state').value;
            let city = document.getElementById('city').value;

            console.log("Name : " + name);
            console.log("Contact No : " + phone);
            console.log("Email ID : " + email);
            console.log("PinCode : " + pincode);
            console.log("Address : " + address);
            console.log("State : " + state);
            console.log("City : " + city);
            
            document.getElementById('output').innerHTML=
                 'Name : ' + name + '<br>' +
                 'Contact No : ' + phone + '<br>' +
                 'Email ID : ' + email + '<br>' +
                 'Pincode : ' + pincode + '<br>' +
                 'Address : ' + address + '<br>' +
                 'State : ' + state + '<br>' +
                 'City : ' + city + '<br>';
        }
    </script>
</body>
</html>